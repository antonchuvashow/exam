{% extends "base.html" %}
{% load socialaccount %}
{% load account %}

{% block content %}
<div class="min-h-[80vh] flex items-center justify-center">
    <div class="bg-white shadow-lg rounded-2xl p-10 w-full max-w-md text-center">
        <h1 class="text-3xl font-bold text-indigo-700 mb-6">Добро пожаловать в Axon</h1>
        <p class="text-gray-600 mb-8">Войдите через Google или используйте свой аккаунт</p>

        <form method="post" action="{% url 'account_login' %}" class="space-y-4 mb-6">
            {% csrf_token %}
            {{ form.non_field_errors }}
            <div>
                {{ form.login.errors }}
                <input type="text" name="login" value="{{ form.login.value|default:'' }}"
                    placeholder="Имя пользователя или Email"
                    class="w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-indigo-500 focus:outline-none"
                    required>
            </div>

            <div>
                {{ form.password.errors }}
                <input type="password" name="password" placeholder="Пароль"
                    class="w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-indigo-500 focus:outline-none"
                    required>
            </div>

            {% if redirect_field_value %}
            <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
            {% endif %}

            <button type="submit"
                class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-5 rounded-xl transition">
                Войти
            </button>
        </form>

        <p class="text-gray-500 mb-4">или</p>

        {% providers_media_js %}
        <a href="{% provider_login_url 'google' %}"
            class="flex items-center justify-center gap-3 w-full border border-gray-300 bg-white text-gray-700 font-medium py-3 rounded-xl shadow-sm hover:shadow-md hover:bg-gray-50 transition-all duration-200">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 48 48">
                <path fill="#EA4335"
                    d="M24 9.5c3.4 0 6.3 1.2 8.7 3.5l6.5-6.5C35.3 2.7 30.1 0 24 0 14.6 0 6.5 5.4 2.4 13.2l7.6 5.9C11.8 12.5 17.4 9.5 24 9.5z" />
                <path fill="#34A853"
                    d="M46.5 24.5c0-1.6-.1-3.1-.4-4.5H24v9h12.7c-.6 3.1-2.5 5.7-5.2 7.4l8.1 6.3c4.7-4.3 7.4-10.6 7.4-18.2z" />
                <path fill="#4A90E2" d="M9.9 28.9c-1.1-3.3-1.1-6.9 0-10.2L2.4 13c-2.7 5.4-2.7 11.6 0 17l7.5-1.1z" />
                <path fill="#FBBC05"
                    d="M24 48c6.1 0 11.2-2 14.9-5.5l-8.1-6.3c-2.3 1.5-5.1 2.3-8.2 2.3-6.6 0-12.2-4-14.5-9.6l-7.6 5.9C6.5 42.6 14.6 48 24 48z" />
            </svg>
            <span class="text-base">Войти с помощью Google</span>
        </a>

        <p class="text-gray-400 text-sm mt-6">
            Нет аккаунта?
            <a href="{% url 'account_signup' %}" class="text-indigo-600 hover:underline font-medium">
                Зарегистрироваться
            </a>
        </p>
    </div>
</div>
{% endblock %}